# План оптимізації

## 1. Діагностика проблеми (Diagnosis)
- Симуляція продовжує виконувати `update()`, хоча на екрані залишаються лише мертві організми та їжа. Це відбувається через **надмірну ефективність хижаків** та **недостатню швидкість розмноження травоїдних**, що призводить до швидкого вимирання всіх живих організмів. Крім того, відсутня умова зупинки симуляції, що дозволяє продовжувати обчислення без сенсу.

## 2. Технічні виправлення (Engine Logic)
- Додати перевірку на завершення гри (Game Over) у метод `Engine.update()`.
- Якщо `this.organisms.size === 0`, викликати `this.stop()` та задокументувати подію як `EXTINCTION` (логування).
- При зупинці виводити повідомлення в консоль та/або UI, щоб користувач розумів причину зупинки.

## 3. Біологічне балансування (Game Design)
- **Травоїдні (Prey):**
  - Збільшити параметр `reproductionThreshold` (швидкість розмноження) або початкову популяцію, щоб вони могли підтримувати чисельність під тиском хижаків.
- **Хижаки (Predators):**
  - Підвищити `energyLossRate` (швидкість втрати енергії), щоб хижаки швидше голодували, якщо не знайдуть жертв, запобігаючи їх масовому вимиранню за 10 секунд.
- **Сенсори:**
  - Перевірити значення `sensorRadius` у `types.ts`. Якщо радіус занадто малий, організми можуть не «бачити» їжу, що призводить до їх смерті навіть у присутності ресурсів.

## 4. План дій (Action Plan)
- **Крок 1:** Додати перевірку `Game Over` у `Engine.update()` та реалізувати метод `stop()` з логуванням `EXTINCTION`.
- **Крок 2:** Оновити константи `reproductionThreshold` для травоїдних та `energyLossRate` для хижаків у відповідних файлах конфігурації.
- **Крок 3:** Переглянути та, за потреби, збільшити `sensorRadius` у `types.ts`.
- **Крок 4:** Протестувати симуляцію після змін, переконавшись, що при вимиранні всіх організмів симуляція зупиняється і більше не виконує зайві обчислення.
- **Крок 5:** Додати unit‑тести для нових умов зупинки та перевірити, що логування `EXTINCTION` працює коректно.

*Після затвердження цього плану я виконаю зазначені кроки та оновлю документацію.*
